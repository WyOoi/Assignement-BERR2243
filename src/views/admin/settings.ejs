<%- include('../partials/header') %>

<div class="container-fluid py-4">
  <div class="row">
    <div class="col-12">
      <div class="card mb-4">
        <div class="card-header pb-0">
          <h6>System Settings</h6>
        </div>
        <div class="card-body px-0 pt-0 pb-2">
          <div class="p-4">
            <!-- Nav tabs -->
            <ul class="nav nav-tabs mb-4" id="settingsTabs" role="tablist">
              <li class="nav-item" role="presentation">
                <button class="nav-link active" id="general-tab" data-bs-toggle="tab" data-bs-target="#general" type="button" role="tab" aria-controls="general" aria-selected="true">
                  <i class="fas fa-cog me-2"></i> General
                </button>
              </li>
              <li class="nav-item" role="presentation">
                <button class="nav-link" id="pricing-tab" data-bs-toggle="tab" data-bs-target="#pricing" type="button" role="tab" aria-controls="pricing" aria-selected="false">
                  <i class="fas fa-dollar-sign me-2"></i> Pricing
                </button>
              </li>
              <li class="nav-item" role="presentation">
                <button class="nav-link" id="notifications-tab" data-bs-toggle="tab" data-bs-target="#notifications" type="button" role="tab" aria-controls="notifications" aria-selected="false">
                  <i class="fas fa-bell me-2"></i> Notifications
                </button>
              </li>
              <li class="nav-item" role="presentation">
                <button class="nav-link" id="security-tab" data-bs-toggle="tab" data-bs-target="#security" type="button" role="tab" aria-controls="security" aria-selected="false">
                  <i class="fas fa-shield-alt me-2"></i> Security
                </button>
              </li>
            </ul>
            
            <!-- Tab panes -->
            <div class="tab-content">
              <!-- General Settings -->
              <div class="tab-pane active" id="general" role="tabpanel" aria-labelledby="general-tab">
                <form>
                  <div class="row mb-4">
                    <div class="col-md-6 mb-3 mb-md-0">
                      <div class="card bg-light border-0">
                        <div class="card-body">
                          <h6 class="card-title">Application Information</h6>
                          <div class="mb-3">
                            <label for="appName" class="form-label">Application Name</label>
                            <input type="text" class="form-control" id="appName" value="MyTaxi UTeM">
                          </div>
                          <div class="mb-3">
                            <label for="contactEmail" class="form-label">Contact Email</label>
                            <input type="email" class="form-control" id="contactEmail" value="support@mytaxi-utem.com">
                          </div>
                          <div class="mb-3">
                            <label for="phoneNumber" class="form-label">Support Phone</label>
                            <input type="tel" class="form-control" id="phoneNumber" value="+60 12-345 6789">
                          </div>
                          <div class="mb-0">
                            <label for="timezone" class="form-label">Timezone</label>
                            <select class="form-select" id="timezone">
                              <option value="Asia/Kuala_Lumpur" selected>Asia/Kuala_Lumpur (GMT+8)</option>
                              <option value="UTC">UTC</option>
                              <option value="Asia/Singapore">Asia/Singapore (GMT+8)</option>
                              <option value="Asia/Jakarta">Asia/Jakarta (GMT+7)</option>
                            </select>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="col-md-6">
                      <div class="card bg-light border-0">
                        <div class="card-body">
                          <h6 class="card-title">System Maintenance</h6>
                          <div class="form-check form-switch mb-3">
                            <input class="form-check-input" type="checkbox" id="maintenanceMode">
                            <label class="form-check-label" for="maintenanceMode">Maintenance Mode</label>
                            <small class="form-text text-muted d-block">When enabled, the site will be inaccessible to users.</small>
                          </div>
                          <div class="mb-3">
                            <label for="maintenanceMessage" class="form-label">Maintenance Message</label>
                            <textarea class="form-control" id="maintenanceMessage" rows="3">We're currently updating our system to serve you better. Please check back in a few hours.</textarea>
                          </div>
                          <div class="mb-0">
                            <label class="form-label">System Cache</label>
                            <div class="d-grid">
                              <button type="button" class="btn btn-secondary">
                                <i class="fas fa-sync-alt me-2"></i> Clear System Cache
                              </button>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                  
                  <div class="card bg-light border-0 mb-4">
                    <div class="card-body">
                      <h6 class="card-title">Map Settings</h6>
                      <div class="row">
                        <div class="col-md-6 mb-3">
                          <label for="mapProvider" class="form-label">Map Provider</label>
                          <select class="form-select" id="mapProvider">
                            <option value="google" selected>Google Maps</option>
                            <option value="mapbox">Mapbox</option>
                            <option value="openstreetmap">OpenStreetMap</option>
                          </select>
                        </div>
                        <div class="col-md-6 mb-3">
                          <label for="apiKey" class="form-label">API Key</label>
                          <input type="text" class="form-control" id="apiKey" value="AIzaSyD5GwbQn0Yw3nZ5U-N4Xd6sHjsXcZ9tBzY">
                        </div>
                      </div>
                      <div class="mb-0">
                        <label for="defaultLocation" class="form-label">Default Center Location (Lat, Lng)</label>
                        <input type="text" class="form-control" id="defaultLocation" value="2.3143, 102.3183">
                        <small class="form-text text-muted">UTeM Main Campus coordinates</small>
                      </div>
                    </div>
                  </div>
                  
                  <div class="d-flex justify-content-end">
                    <button type="submit" class="btn btn-primary">
                      <i class="fas fa-save me-2"></i> Save General Settings
                    </button>
                  </div>
                </form>
              </div>
              
              <!-- Pricing Settings -->
              <div class="tab-pane" id="pricing" role="tabpanel" aria-labelledby="pricing-tab">
                <form>
                  <div class="card bg-light border-0 mb-4">
                    <div class="card-body">
                      <h6 class="card-title">Fare Calculation</h6>
                      <div class="row mb-3">
                        <div class="col-md-6 mb-3 mb-md-0">
                          <label for="baseFare" class="form-label">Base Fare (RM)</label>
                          <input type="number" class="form-control" id="baseFare" value="5" step="0.5">
                          <small class="form-text text-muted">Starting fare for all rides</small>
                        </div>
                        <div class="col-md-6">
                          <label for="perKmRate" class="form-label">Per Kilometer Rate (RM)</label>
                          <input type="number" class="form-control" id="perKmRate" value="1.50" step="0.1">
                          <small class="form-text text-muted">Fare per kilometer traveled</small>
                        </div>
                      </div>
                      <div class="row mb-3">
                        <div class="col-md-6 mb-3 mb-md-0">
                          <label for="perMinuteRate" class="form-label">Per Minute Rate (RM)</label>
                          <input type="number" class="form-control" id="perMinuteRate" value="0.20" step="0.05">
                          <small class="form-text text-muted">Additional fare per minute of ride time</small>
                        </div>
                        <div class="col-md-6">
                          <label for="minimumFare" class="form-label">Minimum Fare (RM)</label>
                          <input type="number" class="form-control" id="minimumFare" value="8" step="1">
                          <small class="form-text text-muted">Minimum charge for any ride</small>
                        </div>
                      </div>
                      <div class="form-check form-switch mb-0">
                        <input class="form-check-input" type="checkbox" id="dynamicPricing" checked>
                        <label class="form-check-label" for="dynamicPricing">Enable Dynamic Pricing</label>
                        <small class="form-text text-muted d-block">Adjust prices based on demand and supply</small>
                      </div>
                    </div>
                  </div>
                  
                  <div class="card bg-light border-0 mb-4">
                    <div class="card-body">
                      <h6 class="card-title">Surge Pricing</h6>
                      <div class="row mb-3">
                        <div class="col-md-6 mb-3 mb-md-0">
                          <label for="surgeFactor" class="form-label">Maximum Surge Factor</label>
                          <input type="number" class="form-control" id="surgeFactor" value="1.5" step="0.1" min="1">
                          <small class="form-text text-muted">Maximum multiplier for surge pricing</small>
                        </div>
                        <div class="col-md-6">
                          <label for="surgeThreshold" class="form-label">Surge Threshold</label>
                          <input type="number" class="form-control" id="surgeThreshold" value="80" step="5" min="0" max="100">
                          <small class="form-text text-muted">Demand percentage to trigger surge pricing</small>
                        </div>
                      </div>
                      <div class="mb-0">
                        <label class="form-label">Peak Hours</label>
                        <div class="row">
                          <div class="col-md-6 mb-2">
                            <div class="input-group">
                              <span class="input-group-text">Morning</span>
                              <input type="time" class="form-control" value="07:00">
                              <span class="input-group-text">to</span>
                              <input type="time" class="form-control" value="09:00">
                            </div>
                          </div>
                          <div class="col-md-6">
                            <div class="input-group">
                              <span class="input-group-text">Evening</span>
                              <input type="time" class="form-control" value="17:00">
                              <span class="input-group-text">to</span>
                              <input type="time" class="form-control" value="19:00">
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                  
                  <div class="card bg-light border-0 mb-4">
                    <div class="card-body">
                      <h6 class="card-title">Driver Commission</h6>
                      <div class="mb-3">
                        <label for="commissionRate" class="form-label">Commission Rate (%)</label>
                        <input type="number" class="form-control" id="commissionRate" value="15" min="0" max="100">
                        <small class="form-text text-muted">Percentage of fare retained by the platform</small>
                      </div>
                      <div class="form-check form-switch mb-0">
                        <input class="form-check-input" type="checkbox" id="bonusProgram" checked>
                        <label class="form-check-label" for="bonusProgram">Enable Driver Bonus Program</label>
                        <small class="form-text text-muted d-block">Reward drivers for completing more rides</small>
                      </div>
                    </div>
                  </div>
                  
                  <div class="d-flex justify-content-end">
                    <button type="submit" class="btn btn-primary">
                      <i class="fas fa-save me-2"></i> Save Pricing Settings
                    </button>
                  </div>
                </form>
              </div>
              
              <!-- Notifications Settings -->
              <div class="tab-pane" id="notifications" role="tabpanel" aria-labelledby="notifications-tab">
                <form>
                  <div class="card bg-light border-0 mb-4">
                    <div class="card-body">
                      <h6 class="card-title">Email Notifications</h6>
                      <div class="mb-3">
                        <div class="form-check form-switch">
                          <input class="form-check-input" type="checkbox" id="emailNewUser" checked>
                          <label class="form-check-label" for="emailNewUser">New User Registration</label>
                        </div>
                      </div>
                      <div class="mb-3">
                        <div class="form-check form-switch">
                          <input class="form-check-input" type="checkbox" id="emailNewRide" checked>
                          <label class="form-check-label" for="emailNewRide">New Ride Request</label>
                        </div>
                      </div>
                      <div class="mb-3">
                        <div class="form-check form-switch">
                          <input class="form-check-input" type="checkbox" id="emailRideComplete" checked>
                          <label class="form-check-label" for="emailRideComplete">Ride Completion</label>
                        </div>
                      </div>
                      <div class="mb-0">
                        <div class="form-check form-switch">
                          <input class="form-check-input" type="checkbox" id="emailPayment" checked>
                          <label class="form-check-label" for="emailPayment">Payment Confirmation</label>
                        </div>
                      </div>
                    </div>
                  </div>
                  
                  <div class="card bg-light border-0 mb-4">
                    <div class="card-body">
                      <h6 class="card-title">Push Notifications</h6>
                      <div class="mb-3">
                        <div class="form-check form-switch">
                          <input class="form-check-input" type="checkbox" id="pushNewRide" checked>
                          <label class="form-check-label" for="pushNewRide">New Ride Request</label>
                        </div>
                      </div>
                      <div class="mb-3">
                        <div class="form-check form-switch">
                          <input class="form-check-input" type="checkbox" id="pushDriverArrival" checked>
                          <label class="form-check-label" for="pushDriverArrival">Driver Arrival</label>
                        </div>
                      </div>
                      <div class="mb-3">
                        <div class="form-check form-switch">
                          <input class="form-check-input" type="checkbox" id="pushRideStart" checked>
                          <label class="form-check-label" for="pushRideStart">Ride Start</label>
                        </div>
                      </div>
                      <div class="mb-0">
                        <div class="form-check form-switch">
                          <input class="form-check-input" type="checkbox" id="pushRideComplete" checked>
                          <label class="form-check-label" for="pushRideComplete">Ride Completion</label>
                        </div>
                      </div>
                    </div>
                  </div>
                  
                  <div class="card bg-light border-0 mb-4">
                    <div class="card-body">
                      <h6 class="card-title">Admin Alerts</h6>
                      <div class="mb-3">
                        <div class="form-check form-switch">
                          <input class="form-check-input" type="checkbox" id="adminNewDriver" checked>
                          <label class="form-check-label" for="adminNewDriver">New Driver Registration</label>
                        </div>
                      </div>
                      <div class="mb-3">
                        <div class="form-check form-switch">
                          <input class="form-check-input" type="checkbox" id="adminUserReport" checked>
                          <label class="form-check-label" for="adminUserReport">User Reports</label>
                        </div>
                      </div>
                      <div class="mb-3">
                        <div class="form-check form-switch">
                          <input class="form-check-input" type="checkbox" id="adminPaymentIssue" checked>
                          <label class="form-check-label" for="adminPaymentIssue">Payment Issues</label>
                        </div>
                      </div>
                      <div class="mb-0">
                        <div class="form-check form-switch">
                          <input class="form-check-input" type="checkbox" id="adminSystemError" checked>
                          <label class="form-check-label" for="adminSystemError">System Errors</label>
                        </div>
                      </div>
                    </div>
                  </div>
                  
                  <div class="d-flex justify-content-end">
                    <button type="submit" class="btn btn-primary">
                      <i class="fas fa-save me-2"></i> Save Notification Settings
                    </button>
                  </div>
                </form>
              </div>
              
              <!-- Security Settings -->
              <div class="tab-pane" id="security" role="tabpanel" aria-labelledby="security-tab">
                <form>
                  <div class="card bg-light border-0 mb-4">
                    <div class="card-body">
                      <h6 class="card-title">Password Policy</h6>
                      <div class="mb-3">
                        <label for="minPasswordLength" class="form-label">Minimum Password Length</label>
                        <input type="number" class="form-control" id="minPasswordLength" value="8" min="6" max="20">
                      </div>
                      <div class="mb-3">
                        <div class="form-check form-switch">
                          <input class="form-check-input" type="checkbox" id="requireUppercase" checked>
                          <label class="form-check-label" for="requireUppercase">Require Uppercase Letters</label>
                        </div>
                      </div>
                      <div class="mb-3">
                        <div class="form-check form-switch">
                          <input class="form-check-input" type="checkbox" id="requireNumbers" checked>
                          <label class="form-check-label" for="requireNumbers">Require Numbers</label>
                        </div>
                      </div>
                      <div class="mb-3">
                        <div class="form-check form-switch">
                          <input class="form-check-input" type="checkbox" id="requireSpecialChars">
                          <label class="form-check-label" for="requireSpecialChars">Require Special Characters</label>
                        </div>
                      </div>
                      <div class="mb-0">
                        <label for="passwordExpiry" class="form-label">Password Expiry (days)</label>
                        <input type="number" class="form-control" id="passwordExpiry" value="90" min="0">
                        <small class="form-text text-muted">Set to 0 for no expiry</small>
                      </div>
                    </div>
                  </div>
                  
                  <div class="card bg-light border-0 mb-4">
                    <div class="card-body">
                      <h6 class="card-title">Login Security</h6>
                      <div class="mb-3">
                        <div class="form-check form-switch">
                          <input class="form-check-input" type="checkbox" id="twoFactorAuth">
                          <label class="form-check-label" for="twoFactorAuth">Enable Two-Factor Authentication</label>
                        </div>
                      </div>
                      <div class="mb-3">
                        <label for="maxLoginAttempts" class="form-label">Maximum Login Attempts</label>
                        <input type="number" class="form-control" id="maxLoginAttempts" value="5" min="1" max="10">
                      </div>
                      <div class="mb-3">
                        <label for="lockoutDuration" class="form-label">Account Lockout Duration (minutes)</label>
                        <input type="number" class="form-control" id="lockoutDuration" value="30" min="5">
                      </div>
                      <div class="mb-0">
                        <div class="form-check form-switch">
                          <input class="form-check-input" type="checkbox" id="loginNotification" checked>
                          <label class="form-check-label" for="loginNotification">Send Login Notification Emails</label>
                        </div>
                      </div>
                    </div>
                  </div>
                  
                  <div class="card bg-light border-0 mb-4">
                    <div class="card-body">
                      <h6 class="card-title">Session Settings</h6>
                      <div class="mb-3">
                        <label for="sessionTimeout" class="form-label">Session Timeout (minutes)</label>
                        <input type="number" class="form-control" id="sessionTimeout" value="60" min="5">
                      </div>
                      <div class="mb-0">
                        <div class="form-check form-switch">
                          <input class="form-check-input" type="checkbox" id="forceHttps" checked>
                          <label class="form-check-label" for="forceHttps">Force HTTPS</label>
                        </div>
                      </div>
                    </div>
                  </div>
                  
                  <div class="d-flex justify-content-end">
                    <button type="submit" class="btn btn-primary">
                      <i class="fas fa-save me-2"></i> Save Security Settings
                    </button>
                  </div>
                </form>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<%- include('../partials/footer') %> 